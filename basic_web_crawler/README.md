# Basic Web Crawler

## üìù –û–ø–∏—Å–∞–Ω–∏–µ

–ë–∞–∑–æ–≤—ã–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤–µ–±-–∫—Ä–∞—É–ª–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ–±-—Å–∞–π—Ç–æ–≤ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤—Å–µ—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã —Å–∞–π—Ç–∞ –∏–ª–∏ —Å–±–æ—Ä–∞ URL –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ –≤–µ–±-—Å–∞–π—Ç–∞
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏ –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ URL –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ë–∞–∑–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–µ–±-—Å–∫—Ä–µ–π–ø–∏–Ω–≥–∞

## üìã –§–∞–π–ª—ã

- **`spider.py`** - –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∫—Ä–∞—É–ª–µ—Ä–∞
- **`urls`** - –í—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª —Å–æ –≤—Å–µ–º–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ URL
- **`temp0`** - –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è HTML
- **`cookies.txt`** - –§–∞–π–ª —Å cookies (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

```bash
pip install requests
```

–î–ª—è Python 3:
```bash
pip3 install requests
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
python spider.py
```

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

```python
Input site:
http://example.com/
```

–°–∫—Ä–∏–ø—Ç –Ω–∞—á–Ω–µ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ URL –∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±–æ–π–¥–µ—Ç –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏.

## üìä –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–í–≤–æ–¥ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ URL** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ HTML** - –ü–æ–ª—É—á–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —á–µ—Ä–µ–∑ `requests.get()`
3. **–ü–∞—Ä—Å–∏–Ω–≥ —Å—Å—ã–ª–æ–∫** - –ò–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Å–µ —Ç–µ–≥–∏ —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º `href`
4. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –£–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã
5. **–†–µ–∫—É—Ä—Å–∏—è** - –ü–æ–≤—Ç–æ—Ä—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π —Å—Å—ã–ª–∫–∏
6. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** - –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ñ–∞–π–ª `urls`

## üìà –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

```
Input site:
http://fa.ru/

–û–±—Ä–∞–±–æ—Ç–∫–∞: http://fa.ru/
–ù–∞–π–¥–µ–Ω–æ: http://fa.ru/about/
–ù–∞–π–¥–µ–Ω–æ: http://fa.ru/contacts/
–ù–∞–π–¥–µ–Ω–æ: http://fa.ru/news/
...
```

## üìÇ –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### urls
–¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å–æ –≤—Å–µ–º–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ URL (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É):
```
http://example.com/
http://example.com/about/
http://example.com/contacts/
https://external-site.com/page
```

### temp0
–í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å HTML –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- ‚ùå –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≥–ª—É–±–∏–Ω—ã —Ä–µ–∫—É—Ä—Å–∏–∏
- ‚ùå –ú–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –Ω–∞ –±–æ–ª—å—à–∏—Ö —Å–∞–π—Ç–∞—Ö
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ `robots.txt`
- ‚ùå –ù–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚ùå –ö–æ–¥ –Ω–∞ Python 2 (—Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç `requests.exceptions.InvalidSchema`
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç URL –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É

### –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ
–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C`

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 1. –î–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã
```python
max_depth = 3
current_depth = 0
```

### 2. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏
```python
import time
time.sleep(1)  # 1 —Å–µ–∫—É–Ω–¥–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å User-Agent
```python
headers = {'User-Agent': 'Mozilla/5.0'}
requests.get(url, headers=headers)
```

### 4. –ü—Ä–æ–≤–µ—Ä—è—Ç—å robots.txt
```python
from urllib.robotparser import RobotFileParser
```

### 5. –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –¥–æ–º–µ–Ω—É
```python
if 'example.com' in url:
    # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏ —Ç–æ–≥–æ –∂–µ –¥–æ–º–µ–Ω–∞
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Python 3

```python
# –ë—ã–ª–æ (Python 2)
print "Input site:"
site = raw_input()

# –°—Ç–∞–ª–æ (Python 3)
print("Input site:")
site = input()
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
**–†–µ—à–µ–Ω–∏–µ:** –ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã

### –ü—Ä–æ–±–ª–µ–º–∞: "Invalid Schema"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç URL (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å http:// –∏–ª–∏ https://)

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–º
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ User-Agent

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–Ω–æ–≥–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
**–†–µ—à–µ–Ω–∏–µ:** –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ö—Ä–∞—É–ª–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–Ω–æ–≥–æ —Å–∞–π—Ç–∞
```bash
python spider.py
# –í–≤–µ–¥–∏—Ç–µ: http://news-site.com/
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –í—Å–µ —Å—Ç–∞—Ç—å–∏ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞
```

### –°–±–æ—Ä —Å—Å—ã–ª–æ–∫ —Å –±–ª–æ–≥–∞
```bash
python spider.py
# –í–≤–µ–¥–∏—Ç–µ: http://blog.example.com/
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –í—Å–µ –ø–æ—Å—Ç—ã –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–≤–æ–∏—Ö —Å–∞–π—Ç–∞—Ö –∏–ª–∏ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ robots.txt –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- ‚úÖ –î–æ–±–∞–≤–ª—è–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π User-Agent

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- **dork_url_crawler/** - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫—Ä–∞—É–ª–µ—Ä —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º email
- **email_extractor/** - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫—Ä–∞—É–ª–µ—Ä –¥–ª—è email

---

**–ê–≤—Ç–æ—Ä:** Jazis  
**–í–µ—Ä—Å–∏—è:** 1.0  
**Python:** 2.7 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ 3.x)  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 16 –¥–µ–∫–∞–±—Ä—è 2025
